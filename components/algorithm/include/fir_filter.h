#pragma once
#include "esp_dsp.h"

#define FIR_COEFFS_LEN (32)
#define FIR_DECIM (2)
#define FIR_SAMPLES (256)
#define FIR_DELAY (FIR_COEFFS_LEN / FIR_DECIM)
#define FIR_OUT_LEN (FIR_SAMPLES + FIR_DELAY)

// static __attribute__ ((aligned(16))) float signal[FIR_OUT_LEN];
// static __attribute__ ((aligned(16))) float fir_coeffs[FIR_COEFFS_LEN];
// static __attribute__ ((aligned(16))) float delay_line[FIR_COEFFS_LEN];

fir_f32_t setup_fir_filter(void);

const float coeff[] = {0, 0.00366765757370391245, 0.015380558406745206, 0.0347811576763104938, 0.059592527776773048, 0.0859952358668954336, 0.109414262266043005, 0.1255314704183359, 0.131274260030385975, 0.1255314704183359, 0.109414262266043005, 0.0859952358668954336, 0.059592527776773048, 0.0347811576763104938, 0.015380558406745206, 0.00366765757370391245, 0};